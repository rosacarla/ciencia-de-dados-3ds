# -*- coding: utf-8 -*-
"""3ds-cd-regressao-linear-GABARITO.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1rB-ZnEtKSRTtlAsqv9o2bYwyzaxAc6iZ

>ğŸ“˜ <b>AULA - REGRESSÃƒO LINEAR COM PYTHON  
>Curso: TÃ©cnico em Desenvolvimento de Sistemas  
>Turma: 3DS  
>Disciplina: CiÃªncia de Dados  
>ConteÃºdo: RegressÃ£o Linear com Statsmodels e Scikit-Learn </b>
>
><img src='https://i.postimg.cc/GhjJfhHb/linear-regression.png' width=880 height=388>

>### âš ï¸ SALVE UMA CÃ“PIA DO NOTEBOOK NO SEU DRIVE, ANTES DE EXECUTAR OS CÃ“DIGOS!  
>### âš ï¸ RENOMEIE O ARQUIVO INCLUINDO O SEU NOME PARA, POR EX., FICAR ASSIM,:  
<b>carla-3ds-cd-regressao-linear.ipynb</b>.

>### ğŸ§  <b>INTRODUÃ‡ÃƒO: O que Ã© RegressÃ£o Linear?</b>  

A regressÃ£o linear Ã© uma tÃ©cnica estatÃ­stica usada para <b>modelar a relaÃ§Ã£o entre uma variÃ¡vel dependente (alvo)</b> e <b>uma ou mais variÃ¡veis independentes (preditoras)</b>. Ela Ã© amplamente usada para <b>previsÃ£o de valores</b> e <b>anÃ¡lise de impacto de variÃ¡veis</b>.</p>

>### ğŸ“Œ <b>Por que se chama _RegressÃ£o Linear_?</b>

- **RegressÃ£o** significa que estamos tentando **prever ou estimar** um valor com base em outros dados.  
  Por exemplo: prever o **preÃ§o de uma casa** com base na **Ã¡rea**, **distÃ¢ncia da praia** e **distÃ¢ncia da farmÃ¡cia**.

- **Linear** vem do fato de que a relaÃ§Ã£o entre as variÃ¡veis Ã© representada por uma **linha reta**.  
  Ou seja, o modelo tenta ajustar uma **equaÃ§Ã£o do tipo**:    


<div align="center">
  <img src='https://i.postimg.cc/XY9PvyNz/formula.png'>
</div>


Onde:

- <i>Valor</i> Ã© a variÃ¡vel dependente (o que queremos prever).

- <i>Area, Dist_Praia, Dist_Farmacia</i> sÃ£o as variÃ¡veis independentes.

- ğ‘, ğ‘, ğ‘  sÃ£o os coeficientes que indicam o impacto de cada variÃ¡vel.

- ğ‘‘  Ã© o intercepto (valor base quando todas as variÃ¡veis sÃ£o zero).

---

> ### ğŸ“ <b>Em resumo:</b>
> Ã‰ chamada de **regressÃ£o linear** porque usamos uma **equaÃ§Ã£o de linha reta** para **estimar ou prever** valores com base em outras variÃ¡veis.

>### ğŸ  <b>Projeto PrÃ¡tico: previsÃ£o de preÃ§os de casas</b>   

O objetivo do projeto Ã© <b>prever o preÃ§o de casas</b> com base em:

- Ãrea construÃ­da (Area)

- DistÃ¢ncia da praia (Dist_Praia)

- DistÃ¢ncia da farmÃ¡cia (Dist_Farmacia)

>### ğŸ“¥<b> PreparaÃ§Ã£o do ambiente</b>
"""

# EXECUTE!
# ImportaÃ§Ãµes de bibliotecas Python
import pandas as pd  # ManipulaÃ§Ã£o de dados
import statsmodels.api as sm  # Modelo estatÃ­stico
from sklearn.model_selection import train_test_split  # Divide dados em treino e teste
from sklearn.linear_model import LinearRegression     # Modelo de regressÃ£o linear

""">### â¬†ï¸<b> Upload dos dados</b>  
- SALVE NO COMPUTADOR uma cÃ³pia do arquivo [dataset-imoveis.csv](https://drive.google.com/file/d/1AP9N7g0ZGBmf2nej-cQ37oo216Cs8-oM/view?usp=sharing).
- Clique no Ã­cone de pasta no lado esquerdo e na folha com seta.  
- Selecione o arquivo <b>dataset-imoveis.csv</b> no computador.  
- SerÃ¡ exibida mensagem sobre exclusÃ£o dos arquivos ao encerrar o ambiente de execuÃ§Ã£o, clique em OK e aguarde concluir.
"""

# EXECUTE!
# Carregar dataset
data = pd.read_csv('/content/dataset-imoveis.csv', sep=';')
data    # Exibe o conjunto de dados

""">### ğŸ“Š <b>AplicaÃ§Ã£o com Statsmodels</b>    

 ğŸ”— CÃ³digo 1 disponÃ­vel [aqui](https://docs.google.com/document/d/12k7WwgomCIDMoFKsnE-s-ykr3eLOuFD-raqits_fJI0/edit?usp=sharing).   

 <img src='https://i.postimg.cc/0jKXm6vK/codigo-ASTATs.png'>

>### ğŸ§ª <b>AplicaÃ§Ã£o com Scikit-Learn</b>    

ğŸ”— CÃ³digo 2 disponÃ­vel [aqui](https://docs.google.com/document/d/1M7E5S-ITlXVmLuIZMvpi2z-X9LUVhk7MKn0hI3kmN4o/edit?usp=sharing).

<img src='https://i.postimg.cc/05Z7d5jf/modelo2SCIKIT.png'>

> ### ğŸ“Œ <b>CONCEITOS IMPORTANTES</b>

>ğŸ”¹ <b>Intercepto</b>  

<b>- Statsmodels</b>: O intercepto precisa ser adicionado manualmente com <i>sm.add_constant(X)</i>.   
Aparece como <i>const</i> no resumo estatÃ­stico.  

<b>- Scikit-Learn</b>: O intercepto Ã© incluÃ­do automaticamente.  
Pode ser acessado com <i>model.intercept_</i>.

>ğŸ”¹ <b>Coeficientes</b>      

<b>- Statsmodels</b>: Os coeficientes aparecem no <i>summary()</i> com seus respectivos p-valores, indicando a significÃ¢ncia estatÃ­stica de cada variÃ¡vel.  

<b>- Scikit-Learn</b>: Os coeficientes sÃ£o acessados com <i>model.coef_</i>, mas nÃ£o incluem p-valores ou testes estatÃ­sticos.

>ğŸ”¹ <b>MÃ©tricas estatÃ­sticas comparadas</b>

| MÃ©trica         | `statsmodels`                          | `scikit-learn`                     |
|-----------------|----------------------------------------|------------------------------------|
| RÂ² (score)      | IncluÃ­do no `summary()`                | `model.score()`                    |
| p-valores       | Sim, para cada variÃ¡vel                | NÃ£o disponÃ­vel                     |
| F-statistic     | Sim, avalia o modelo como um todo      | NÃ£o disponÃ­vel                     |
| Intercepto      | `const` no `summary()`                 | `model.intercept_`                |

>### âš–ï¸<b>ComparaÃ§Ã£o entre `statsmodels` e `scikit-learn`</b>  
>  

| Aspecto                     | `statsmodels`                          | `scikit-learn`                        |
|----------------------------|----------------------------------------|--------------------------------------|
| ğŸ“¦ Foco principal           | EstatÃ­stica clÃ¡ssica                   | Machine Learning                     |
| ğŸ” SaÃ­da de resultados      | Resumo estatÃ­stico completo            | Apenas coeficientes e previsÃµes      |
| ğŸ§  Ideal para               | InterpretaÃ§Ã£o e anÃ¡lise profunda       | PrevisÃ£o e integraÃ§Ã£o com ML         |
| ğŸ“ˆ Intercepto               | Requer `add_constant()`                | Adicionado automaticamente           |
| ğŸ“Š MÃ©tricas estatÃ­sticas    | Detalhadas (p-valores, F-stat, etc.)   | Limitadas (RÂ²)                       |

>###  ğŸ <b>Testes no Google Colab</b>  
>
>- Copie e cole os cÃ³digos acima em cÃ©lulas separadas.
>
>- Execute cÃ©lula por cÃ©lula para visualizar os resultados.

>ğŸ“Š <b>Teste da aplicaÃ§Ã£o com Statsmodels</b>
"""

# [RegressÃ£o Linear 1: cÃ³digo com Statsmodels]
# MODELO STATSMODELS
# Selecionar variÃ¡veis
X = data[['Area', 'Dist_Praia', 'Dist_Farmacia']]
y = data['Valor']


# Adicionar constante (intercepto)
X = sm.add_constant(X)


# Criar e ajustar o modelo
model = sm.OLS(y, X).fit()


# Exibir resumo estatÃ­stico
print(model.summary())

""">ğŸ§ª <b>Teste da aplicaÃ§Ã£o com Scikit-Learn</b>"""

# [RegressÃ£o Linear 2: cÃ³digo com Scikit-Learn]

# MODELO SCIKIT-LEARN
# Selecionar variÃ¡veis
X = data[['Area', 'Dist_Praia', 'Dist_Farmacia']]   # VariÃ¡veis independentes (preditoras)
y = data['Valor']   # VariÃ¡vel dependente (alvo)


# Dividir em treino e teste
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)


# Criar e treinar o modelo
model = LinearRegression()
model.fit(X_train, y_train)


# Exibir coeficientes
print("Coeficientes:", model.coef_)
print("Intercepto:", model.intercept_)
print("RÂ² (score):", model.score(X_test, y_test))

""">### ğŸ“š <b>ConclusÃ£o da aula</b>  
>
>- Aprendemos a aplicar regressÃ£o linear com duas bibliotecas diferentes.
>
>- Entendemos o papel dos coeficientes e do intercepto.
>
>- Exploramos mÃ©tricas para avaliar o modelo.
>
>- Vimos como usar o Google Colab para testar os cÃ³digos.

###### ğŸ’» <i>Nobebook elaborado pela profÂª Carla Silveira em 11/11/2025.</i>
"""